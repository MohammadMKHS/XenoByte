@model XenoByte.Models.ViewModels.RansomwareReportViewModel
@{
    ViewData["Title"] = "Report Ransomware Address";
    Layout = "_MainLayout";
}

@section Styles {
    <style>
        :root {
            --bg: #0a0a0a;
            --fg: #00f5d4;
            --accent: #00ff88;
            --form-bg: #1e1e1e;
            --footer-bg: #111;
            --text-muted: #ccc;
            --placeholder-color: #888888;
        }

        [data-theme="light"] {
            --bg: #f9f9f9;
            --fg: #0a0a0a;
            --accent: #00b386;
            --form-bg: #ffffff;
            --footer-bg: #eaeaea;
            --text-muted: #333;
            --placeholder-color: #666666;
        }

        body {
            background-color: var(--bg);
            color: var(--fg);
            font-family: 'Orbitron', sans-serif;
            transition: background 0.4s, color 0.4s;
        }

        .content-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            min-height: calc(100vh - 200px);
            width: 100%;
        }

        .report-box {
            background: var(--form-bg);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 0 20px var(--fg);
            width: 100%;
            max-width: 700px;
            color: var(--fg);
            margin: 0 auto;
            position: relative;
        }

        .form-control {
            background-color: var(--form-bg);
            border: none;
            color: var(--fg);
            border-bottom: 2px solid var(--fg);
            border-radius: 0;
            transition: 0.3s;
        }

        .form-control::placeholder {
            color: var(--placeholder-color);
            opacity: 1;
        }

        .form-control:focus {
            background-color: transparent;
            border-bottom: 2px solid var(--accent);
            color: var(--accent);
            box-shadow: none;
        }

        .form-control:focus::placeholder {
            color: var(--accent);
            opacity: 0.7;
        }

        .form-label, .form-text {
            color: var(--text-muted);
        }

        .btn-submit {
            background: linear-gradient(90deg, var(--fg), var(--accent));
            border: none;
            width: 100%;
            font-weight: bold;
            color: #000;
            transition: 0.4s;
            padding: 10px 0;
            font-size: 1.1rem;
        }

        .btn-submit:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        .alert {
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .alert-success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }

        .alert-danger {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }

        .text-warning {
            color: #ffc107 !important;
        }

        /* Additional centering for smaller screens */
        @@media (max-width: 768px) {
            .content-wrapper {
                padding: 20px 10px;
            }
            
            .report-box {
                padding: 30px 20px;
                max-width: 100%;
            }
        }
    </style>
}

<div class="content-wrapper">
    <div class="report-box">
        <h2>Report Ransomware Address</h2>
        
        @if (ViewBag.Success != null)
        {
            <div class="alert alert-success">
                @ViewBag.Success
            </div>
        }

        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger">
                @ViewBag.Error
            </div>
        }

        <form asp-action="ReportRansomware" method="post" enctype="multipart/form-data">
            @Html.AntiForgeryToken()
            
            <div class="mb-3">
                <label asp-for="BitcoinAddresses" class="form-label">Bitcoin addresses *</label>
                <textarea asp-for="BitcoinAddresses" class="form-control" rows="3" placeholder="Enter one or more bitcoin addresses, separated by a newline or comma"></textarea>
                <span asp-validation-for="BitcoinAddresses" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Family" class="form-label">Family (if known)</label>
                <input asp-for="Family" type="text" class="form-control" placeholder="e.g., WannaCry, Locky, etc." />
                <span asp-validation-for="Family" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Demand" class="form-label">How much bitcoin is the ransomware demanding?</label>
                <input asp-for="Demand" type="text" class="form-control" placeholder="e.g., 0.5 BTC, $500 USD equivalent" />
                <span asp-validation-for="Demand" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="PaymentScreenshot" class="form-label">Upload a screenshot of the payment page</label>
                <input asp-for="PaymentScreenshot" type="file" class="form-control" accept="image/*" />
                <span asp-validation-for="PaymentScreenshot" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="RansomNote" class="form-label">Upload the ransom note</label>
                <input asp-for="RansomNote" type="file" class="form-control" />
                <span asp-validation-for="RansomNote" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="SourceLink" class="form-label">Link to source (if public)</label>
                <input asp-for="SourceLink" type="url" class="form-control" placeholder="https://example.com/news-article" />
                <span asp-validation-for="SourceLink" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Notes" class="form-label">Any other notes (optional)</label>
                <textarea asp-for="Notes" class="form-control" rows="3" placeholder="Additional information about the ransomware attack"></textarea>
                <span asp-validation-for="Notes" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="ReporterEmail" class="form-label">Your email address (optional)</label>
                <input asp-for="ReporterEmail" type="email" class="form-control" placeholder="your.email@example.com" />
                <div class="form-text">Your email will be kept private and only used to contact you if more info is needed.</div>
                <span asp-validation-for="ReporterEmail" class="text-danger"></span>
            </div>

            <p class="text-warning small mt-3">
                By submitting, you acknowledge that all contents of your report (besides your email) will be made publicly available.
            </p>
            
            <button type="submit" class="btn btn-submit">Submit Report</button>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}